(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},134:function(e,t){},152:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},172:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(25),r=a.n(c),l=a(7),i=a(64),o=a(27),u=a(17),m=(a(9),a(82),a(83),function(e){return{type:"LOG_IN",payload:{isLoggedIn:!0,permission:e}}}),d=function(){return{type:"LOG_OUT",payload:{isLoggedIn:!1,permission:1e4}}},p=function(e,t,a){return{type:"SET_NOTIFICATION",payload:{id:t,message:e,level:a}}},f=function(e){return{type:"REMOVE_NOTIFICATION",payload:{id:e}}},v=Object(l.b)((function(e){return{notifications:e.notificationReducer}}))((function(e){return s.a.createElement("section",{className:"notifications"},e.notifications.map((function(t){return s.a.createElement("div",{className:"notification ".concat(t[2]),key:t[0]},s.a.createElement("button",{className:"delete",onClick:function(a){a.preventDefault(),e.dispatch(f(t[0]))}}),t[1])})))})),E=(a(84),a(2)),b=a.n(E),h=a(4),N=a(5),g=a.n(N),O=a(176),w={login:function(){var e=Object(h.a)(b.a.mark((function e(t,a,n){var s,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/api/auth/local",{email:t,password:a});case 3:return s=e.sent,e.next=6,s.data;case 6:return(c=e.sent).success&&(r=Object(O.a)(),n(m(c.payload.permission)),n(p(c.msg,r,"is-primary")),setTimeout((function(){n(f(r))}),3e3)),e.abrupt("return",["success",c]);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",["failed",e.t0.response.data]);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,n){return e.apply(this,arguments)}}(),logout:function(){var e=Object(h.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/auth/logout");case 3:t(a()),window.location.reload(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",["failed",e.t0.response.data]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),isAuthenticated:Object(h.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/auth");case 3:return t=e.sent,a=t.data,e.abrupt("return",a.success);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))},y=Object(l.b)((function(e){return{}}))((function(e){var t=function(){var t=Object(h.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),w.logout(e.dispatch,d);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return s.a.createElement("nav",{className:"navbar is-warning",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"navbar-start"},s.a.createElement("a",{className:"navbar-item",href:"/"},"Home"),s.a.createElement("a",{className:"navbar-item",href:"/courses"},"Courses"),s.a.createElement("a",{className:"navbar-item",href:"/teachers"},"Teachers"),s.a.createElement("a",{className:"navbar-item",href:"/users"},"Users")),s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("p",{onClick:t,style:{cursor:"pointer",fontWeight:"bold"}},"Log Out")))))})),x=Object(l.b)((function(e){return{}}))((function(e){return s.a.createElement(n.Fragment,null,s.a.createElement(y,null),s.a.createElement("section",{className:"home"},s.a.createElement("div",{className:"container content has-text-centered"},s.a.createElement("h1",{className:"is-size-3"},"Home"),"Charts and high level statistics will appear here in the near future.",s.a.createElement("br",null),"Explore the other tabs for now.")))})),j=a(3),k=(a(103),function(e,t,a){var n=Object(O.a)();e(p(t,n,a)),setTimeout((function(){e(f(n))}),3e3)}),C=Object(l.b)((function(e){return{}}))((function(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)([]),i=Object(j.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(""),d=Object(j.a)(m,2),p=d[0],f=d[1],v=Object(n.useState)(""),E=Object(j.a)(v,2),N=E[0],O=E[1],w=Object(n.useState)(!1),x=Object(j.a)(w,2),C=x[0],S=x[1],D=Object(n.useState)("No file chosen"),T=Object(j.a)(D,2),I=T[0],L=T[1];Object(n.useEffect)((function(){(function(){var t=Object(h.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("api/teacher/all");case 3:a=t.sent,r(a.data.payload),u(a.data.payload),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response?k(e.dispatch,t.t0.response.data.msg,"is-danger"):console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e]);var z=function(e){e.preventDefault(),S(!C)},A=function(){var t=Object(h.a)(b.a.mark((function t(a){var n,s,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=document.getElementById("createTeacher"),s=new FormData(n),z(a),t.prev=4,t.next=7,g.a.post("api/teacher",s);case 7:c=t.sent,r(c.data.payload),u(c.data.payload),k(e.dispatch,"Teacher Created","is-success"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),t.t0.response?k(e.dispatch,t.t0.response.data.msg,"is-danger"):console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}(),_=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),f(""),O(""),u(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var t=Object(h.a)(b.a.mark((function t(a){var n,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=a.target.value,t.prev=2,t.next=5,g.a.delete("/api/teacher/".concat(n));case 5:s=t.sent,r(s.data.payload),u(s.data.payload),k(e.dispatch,"Teacher Deleted","is-success"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),k(e.dispatch,t.t0.response.data.msg,"is-danger");case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}();return s.a.createElement(n.Fragment,null,s.a.createElement(y,null),s.a.createElement("section",{className:"teachers"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"is-size-3"},"Teachers"),s.a.createElement("div",{className:"actions is-flex"},s.a.createElement("div",{className:"search is-flex"},s.a.createElement("input",{className:"input search-box",type:"text",placeholder:"Search by name",onChange:function(e){e.preventDefault(),f(e.target.value)},value:p}),s.a.createElement("input",{className:"input search-box",type:"text",placeholder:"Search by email",onChange:function(e){e.preventDefault(),O(e.target.value)},value:N}),s.a.createElement("button",{className:"button is-primary",onClick:function(e){e.preventDefault();var t=c.filter((function(e){var t="";t=e.name.last?e.name.first+" "+e.name.last:e.name.first;var a=e.email;return-1!==t.toLowerCase().indexOf(p.toLowerCase())&&-1!==a.toLowerCase().indexOf(N.toLowerCase())}));u(t)}},"Search"),s.a.createElement("button",{className:"button is-info",onClick:_},"Reset")),s.a.createElement("div",{className:"add is-flex",onClick:z},s.a.createElement("p",{className:"is-size-5"},"Add Teacher"),s.a.createElement("img",{src:"/images/add.png",alt:"add",className:"icon"}))),s.a.createElement("div",{className:"modal ".concat(C&&"is-active")},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"New Teacher"),s.a.createElement("button",{className:"delete","aria-label":"close",onClick:z})),s.a.createElement("section",{className:"modal-card-body"},s.a.createElement("form",{id:"createTeacher",onSubmit:A,className:"form",encType:"multipart/form-data"},s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("input",{type:"text",className:"input first",name:"firstname",placeholder:"First Name",required:!0}),s.a.createElement("input",{type:"text",className:"input",name:"lastname",placeholder:"Last Name",required:!0})),s.a.createElement("input",{type:"email",className:"input item",name:"email",placeholder:"Email Id",required:!0}),s.a.createElement("textarea",{className:"textarea item",name:"about",placeholder:"About Teacher. e.g. I am a professional poker player for 6years..."}),s.a.createElement("input",{type:"url",className:"input item",name:"facebook",placeholder:"Facebook"}),s.a.createElement("input",{type:"url",className:"input item",name:"linkedin",placeholder:"Linkedin"}),s.a.createElement("input",{type:"url",className:"input item",name:"twitter",placeholder:"Twitter"}),s.a.createElement("div",{className:"file has-name is-fullwidth"},s.a.createElement("label",{className:"file-label"},s.a.createElement("input",{className:"file-input",type:"file",name:"avatar",onChange:function(e){L(e.target.files[0].name)}}),s.a.createElement("span",{className:"file-cta"},s.a.createElement("span",{className:"file-label"},"Upload Profile Image")),s.a.createElement("span",{className:"file-name"},I))))),s.a.createElement("footer",{className:"modal-card-foot"},s.a.createElement("button",{form:"createTeacher",type:"submit",className:"button is-success"},"Add"),s.a.createElement("button",{className:"button",onClick:z},"Cancel")))),s.a.createElement("table",{className:"table is-bordered is-hoverable is-fullwidth"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Id"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Email Id"),s.a.createElement("th",null,"Courses"),s.a.createElement("th",null,"Actions"))),s.a.createElement("tbody",null,o.map((function(e){var t="";return t=e.name.last?e.name.first+" "+e.name.last:e.name.first,s.a.createElement("tr",{key:e._id},s.a.createElement("td",null,e._id),s.a.createElement("td",null,t),s.a.createElement("td",null,e.email),s.a.createElement("td",null,e.courses.length),s.a.createElement("td",null,s.a.createElement("a",{href:"/teachers/".concat(e._id,"/edit")},s.a.createElement("button",{className:"button is-small is-info"},"Edit")),s.a.createElement("a",{href:"/teachers/".concat(e._id,"/view")},s.a.createElement("button",{className:"button is-small is-primary"},"View")),0===e.courses.length?s.a.createElement("button",{className:"button is-small is-danger",value:e._id,onClick:P},"Delete"):null))})))))))})),S=(a(104),a(105),function(e){var t=e.cardsArr;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"scrolling-wrapper"},t.map((function(e){return s.a.createElement("div",{class:"scrolly-card"},e)}))))}),D=(a(106),function(e){var t=e.courseImage,a=e.courseName,n=e.teacherName,c=e.status,r=e.sp,l=e.mrp;return s.a.createElement("div",{className:"card course-card"},s.a.createElement("div",{className:"card-image"},s.a.createElement("figure",{className:"image is-4by3"},s.a.createElement("img",{src:t,alt:"Course"}))),s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-content"},"INCOMPLETE"===c||"PAUSED"===c?s.a.createElement("p",{className:"is-size-7",style:{color:"red"}},c):null,s.a.createElement("p",{className:"title is-5"},a),s.a.createElement("p",{className:"subtitle is-7"},n),s.a.createElement("div",{className:"price is-flex"},s.a.createElement("p",{className:"is-size-5"},"\u20b9 ".concat(r)),s.a.createElement("p",{className:"is-size-6 obsolete"},s.a.createElement("strike",null,"\u20b9 ".concat(l))))))))}),T=Object(l.b)((function(e){return{}}))((function(e){var t=e.match.params.id,a=Object(n.useState)({name:{first:"",last:""},social:{facebook:"",linkedin:"",twitter:""},courses:[],avatar:{bucket:"",key:"",url:""}}),c=Object(j.a)(a,2),r=c[0],l=c[1];return Object(n.useEffect)((function(){(function(){var a=Object(h.a)(b.a.mark((function a(){var n,s;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.get("/api/teacher/".concat(t));case 3:n=a.sent,s=n.data.payload,l(s),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0.response?k(e.dispatch,a.t0.response.data.msg,"is-danger"):console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}})()()}),[t,e]),s.a.createElement(n.Fragment,null,s.a.createElement(y,null),s.a.createElement("section",{className:"teacher-view"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"has-text-centered is-flex-desktop",style:{"align-items":"center"}},s.a.createElement("figure",{className:"image"},s.a.createElement("img",{className:"is-rounded display-pic",src:r.avatar.url,alt:"dp"})),s.a.createElement("div",{className:"intro"},s.a.createElement("p",{className:"is-size-2"},r.name.last?r.name.first+" "+r.name.last:r.name.first),s.a.createElement("div",{className:"stats is-flex has-text-centered"},s.a.createElement("div",{className:"stat has-text-centered"},s.a.createElement("p",{className:"is-size-7"},"Courses"),s.a.createElement("p",{className:"is-size-5"},r.courses.length)),s.a.createElement("div",{className:"stat has-text-centered"},s.a.createElement("p",{className:"is-size-7"},"Students"),s.a.createElement("p",{className:"is-size-5"},"1509")),s.a.createElement("div",{className:"stat has-text-centered"},s.a.createElement("p",{className:"is-size-7"},"Reviews"),s.a.createElement("p",{className:"is-size-5"},"856")))),s.a.createElement("a",{href:"/teachers/".concat(t,"/edit"),style:{"margin-left":"auto"}},s.a.createElement("button",{className:"button is-info"},"Edit"))),s.a.createElement("div",{className:"about"},s.a.createElement("p",{className:"is-size-6"},s.a.createElement("strong",null,"About Me")),s.a.createElement("p",{className:"is-size-6"},r.about)),s.a.createElement("div",{className:"courses"},s.a.createElement("p",{className:"is-size-6"},s.a.createElement("strong",null,"My Courses (".concat(r.courses.length,")"))),s.a.createElement("div",{className:"cards is-flex-tablet"},s.a.createElement(S,{cardsArr:r.courses.map((function(e){return s.a.createElement(D,{courseImage:"https://bulma.io/images/placeholders/1280x960.png",courseName:e.title,teacherName:r.name.last?r.name.first+" "+r.name.last:r.name.first,status:e.status,sp:150,mrp:1e3})}))}))))))})),I=(a(107),Object(l.b)((function(e){return{}}))((function(e){var t=e.match.params.id,a=Object(n.useState)(""),c=Object(j.a)(a,2),r=c[0],l=c[1],i=Object(n.useState)(""),o=Object(j.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)(""),p=Object(j.a)(d,2),f=p[0],v=p[1],E=Object(n.useState)(""),N=Object(j.a)(E,2),O=N[0],w=N[1],x=Object(n.useState)(""),C=Object(j.a)(x,2),S=C[0],D=C[1],T=Object(n.useState)(""),I=Object(j.a)(T,2),L=I[0],z=I[1],A=Object(n.useState)(""),_=Object(j.a)(A,2),P=_[0],U=_[1],F=Object(n.useState)("No file chosen"),q=Object(j.a)(F,2),R=q[0],M=q[1],V=function(e){l(e.name.first),m(e.name.last),v(e.email),w(e.about),D(e.social.facebook),z(e.social.linkedin),U(e.social.twitter)};Object(n.useEffect)((function(){(function(){var a=Object(h.a)(b.a.mark((function a(){var n,s;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.get("/api/teacher/".concat(t));case 3:return n=a.sent,a.next=6,n.data.payload;case 6:s=a.sent,V(s),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),a.t0.response?k(e.dispatch,a.t0.response.data.msg,"is-danger"):console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}})()()}),[t,e]);var B=function(){var a=Object(h.a)(b.a.mark((function a(n){var s,c,r,l;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),s=document.getElementById("editTeacher"),c=new FormData(s),a.prev=3,a.next=6,g.a.put("/api/teacher/".concat(t),c);case 6:r=a.sent,l=r.data.payload,V(l),k(e.dispatch,"Profile Updated","is-success"),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(3),a.t0.response?k(e.dispatch,a.t0.response.data.msg,"is-danger"):console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[3,12]])})));return function(e){return a.apply(this,arguments)}}();return s.a.createElement(n.Fragment,null,s.a.createElement(y,null),s.a.createElement("section",{className:"teacher-edit"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"is-flex heading"},s.a.createElement("h1",{className:"has-text-centered is-size-3"},"Edit Teacher"),s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{form:"editTeacher",type:"submit",className:"button is-success"},"Save"),s.a.createElement("a",{href:"/teachers/".concat(t,"/view")},s.a.createElement("button",{className:"button is-info"},"View Profile")))),s.a.createElement("form",{id:"editTeacher",onSubmit:B,className:"form",encType:"multipart/form-data"},s.a.createElement("label",null,"Name"),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("input",{type:"text",className:"input first",name:"firstname",placeholder:"First Name",value:r,onChange:function(e){e.preventDefault(),l(e.target.value)},required:!0}),s.a.createElement("input",{type:"text",className:"input",name:"lastname",placeholder:"Last Name",value:u,onChange:function(e){e.preventDefault(),m(e.target.value)}})),s.a.createElement("label",null,"Email"),s.a.createElement("input",{type:"email",className:"input item",name:"email",placeholder:"Email Id",value:f,onChange:function(e){e.preventDefault(),v(e.target.value)},required:!0}),s.a.createElement("label",null,"About Teacher"),s.a.createElement("textarea",{className:"textarea item",name:"about",placeholder:"About Teacher. e.g. I am a professional poker player for 6years...",value:O,onChange:function(e){e.preventDefault(),w(e.target.value)}}),s.a.createElement("label",null,"Facebook Profile"),s.a.createElement("input",{type:"url",className:"input item",name:"facebook",placeholder:"Facebook",value:S,onChange:function(e){e.preventDefault(),D(e.target.value)}}),s.a.createElement("label",null,"Linkedin Profile"),s.a.createElement("input",{type:"url",className:"input item",name:"linkedin",placeholder:"Linkedin",value:L,onChange:function(e){e.preventDefault(),z(e.target.value)}}),s.a.createElement("label",null,"Twitter Profile"),s.a.createElement("input",{type:"url",className:"input item",name:"twitter",placeholder:"Twitter",value:P,onChange:function(e){e.preventDefault(),U(e.target.value)}}),s.a.createElement("div",{className:"file has-name is-fullwidth"},s.a.createElement("label",{className:"file-label"},s.a.createElement("input",{className:"file-input",type:"file",name:"avatar",onChange:function(e){M(e.target.files[0].name)}}),s.a.createElement("span",{className:"file-cta"},s.a.createElement("span",{className:"file-label"},"Upload New Image")),s.a.createElement("span",{className:"file-name"},R)))))))}))),L=(a(108),Object(l.b)((function(e){return{}}))((function(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)([]),i=Object(j.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)([]),d=Object(j.a)(m,2),p=d[0],f=d[1],v=Object(n.useState)(""),E=Object(j.a)(v,2),N=E[0],O=E[1],w=Object(n.useState)(""),x=Object(j.a)(w,2),C=x[0],S=x[1],D=Object(n.useState)(!1),T=Object(j.a)(D,2),I=T[0],L=T[1];Object(n.useEffect)((function(){(function(){var t=Object(h.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("api/course/all");case 3:a=t.sent,r(a.data.payload),u(a.data.payload),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response?k(e.dispatch,t.t0.response.data.msg,"is-danger"):console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e]);var z=function(){var e=Object(h.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L(!I),"closeModal"===t.target.name){e.next=8;break}return e.next=5,g.a.get("api/teacher/all");case 5:a=e.sent,n=a.data.payload,f(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var t=Object(h.a)(b.a.mark((function t(a){var n,s,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=document.getElementById("createCourse"),s=new FormData(n),z(a),t.prev=4,t.next=7,g.a.post("api/course",s);case 7:c=t.sent,r(c.data.payload),u(c.data.payload),k(e.dispatch,"Course Created","is-success"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),t.t0.response?k(e.dispatch,t.t0.response.data.msg,"is-danger"):console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}(),_=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),O(""),S(""),u(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(n.Fragment,null,s.a.createElement(y,null),s.a.createElement("section",{className:"courses"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"is-size-3"},"Courses"),s.a.createElement("div",{className:"actions is-flex"},s.a.createElement("div",{className:"search is-flex"},s.a.createElement("input",{className:"input search-box",type:"text",placeholder:"Search by course title",onChange:function(e){e.preventDefault(),O(e.target.value)},value:N}),s.a.createElement("input",{className:"input search-box",type:"text",placeholder:"Search by teacher",onChange:function(e){e.preventDefault(),S(e.target.value)},value:C}),s.a.createElement("button",{className:"button is-primary",onClick:function(e){e.preventDefault();var t=c.filter((function(e){var t="";t=e.teacher.name.last?e.teacher.name.first+" "+e.teacher.name.last:e.teacher.name.first;var a=e.title;return-1!==t.toLowerCase().indexOf(C.toLowerCase())&&-1!==a.toLowerCase().indexOf(N.toLowerCase())}));u(t)}},"Search"),s.a.createElement("button",{className:"button is-info",onClick:_},"Reset")),s.a.createElement("div",{className:"add is-flex",onClick:z},s.a.createElement("p",{className:"is-size-5"},"Add Course"),s.a.createElement("img",{src:"/images/add.png",alt:"add",className:"icon"}))),s.a.createElement("div",{className:"modal ".concat(I&&"is-active")},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"New Course"),s.a.createElement("button",{className:"delete","aria-label":"close",onClick:z})),s.a.createElement("section",{className:"modal-card-body"},s.a.createElement("form",{id:"createCourse",onSubmit:A,className:"form",encType:"multipart/form-data"},s.a.createElement("input",{type:"text",className:"input item",name:"title",placeholder:"Unique Title",required:!0}),s.a.createElement("input",{type:"text",placeholder:"Teacher Id",name:"teacherid",className:"input item",autoComplete:"off",list:"teachers",required:!0}),s.a.createElement("datalist",{id:"teachers"},p.map((function(e){return s.a.createElement("option",{value:e._id,key:e._id},e.name.last?e.name.first+" "+e.name.last:e.name.first)}))))),s.a.createElement("footer",{className:"modal-card-foot"},s.a.createElement("button",{form:"createCourse",type:"submit",className:"button is-success",name:"submitCourse"},"Add"),s.a.createElement("button",{className:"button",onClick:z,name:"closeModal"},"Cancel")))),s.a.createElement("table",{className:"table is-bordered is-hoverable is-fullwidth"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Title"),s.a.createElement("th",null,"Teacher"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"Actions"))),s.a.createElement("tbody",null,o.map((function(e){var t="";return t=e.teacher.name.last?e.teacher.name.first+" "+e.teacher.name.last:e.teacher.name.first,s.a.createElement("tr",{key:e._id,className:e.status},s.a.createElement("td",null,e.title),s.a.createElement("td",null,t),s.a.createElement("td",null,e.status),s.a.createElement("td",null,s.a.createElement("a",{href:"/courses/".concat(e._id,"/edit")},s.a.createElement("button",{className:"button is-small is-info"},"Edit")),s.a.createElement("a",{href:"/courses/".concat(e.titleId,"/view/preview")},s.a.createElement("button",{className:"button is-small is-primary"},"View"))))})))))))}))),z=(a(109),function(e){var t=e.activeTabId,a=e.course,n=e.courseTitle,c=e.setCourseTitle,r=e.courseSubTitle,l=e.setCourseSubTitle,i=e.courseMrp,o=e.setCourseMrp,u=e.courseSp,m=e.setCourseSp,d=e.handleOverviewSave,p=e.handleOverviewCancel,f=e.handleCourseLive,v=e.handleCoursePause;return s.a.createElement("div",{id:"overview-view",className:"overview tab-view ".concat("overview"===t&&"is-visible")},s.a.createElement("div",{className:"status is-flex"},s.a.createElement("p",{className:"has-text-weight-bold"},"Status"),s.a.createElement("p",{className:"is-size-5"},a.status),"INCOMPLETE"===a.status||"PAUSED"===a.status?s.a.createElement("button",{className:"button is-success",onClick:f},"Make Live"):s.a.createElement("button",{className:"button is-warning",onClick:v},"Pause")),s.a.createElement("div",{className:"other-details"},s.a.createElement("h1",{className:"is-size-4"},"Edit Details"),s.a.createElement("form",{id:"editCourseOverview",className:"form",encType:"multipart/form-data",onSubmit:d},s.a.createElement("div",{className:"item"},s.a.createElement("label",null,"Title"),s.a.createElement("input",{type:"text",className:"input",name:"title",placeholder:"Course Title",value:n,onChange:function(e){e.preventDefault(),c(e.target.value)},required:!0})),s.a.createElement("div",{className:"item"},s.a.createElement("label",null,"Subtitle"),s.a.createElement("input",{type:"text",className:"input",name:"subtitle",placeholder:"Course Subtitle",value:r,onChange:function(e){e.preventDefault(),l(e.target.value)},required:!0})),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"item"},s.a.createElement("label",null,"Maximum Price"),s.a.createElement("input",{type:"number",className:"input",name:"mrp",placeholder:0,value:i,onChange:function(e){e.preventDefault(),o(parseInt(e.target.value))},required:!0})),s.a.createElement("div",{className:"item"},s.a.createElement("label",null,"Selling Price"),s.a.createElement("input",{type:"number",className:"input ".concat(u>i?"is-danger":""),name:"sp",placeholder:0,value:u,onChange:function(e){e.preventDefault(),m(parseInt(e.target.value))},required:!0}),s.a.createElement("p",{className:"is-size-7 error"},u>i?"Selling price cannot be higher than Maximum Price":""))),s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{className:"button is-success",type:"submit",disabled:n===a.title&&r===a.subtitle&&i===a.mrp&&u===a.sp},"Save"),s.a.createElement("button",{className:"button is-danger",disabled:n===a.title&&r===a.subtitle&&i===a.mrp&&u===a.sp,onClick:p},"Cancel")))))}),A=a(65),_=a.n(A),P=a(71),U=function(e){var t=e.handleEditorChange,a=e.value;return s.a.createElement(P.a,{apiKey:"6qfjix402g7rzxe70k5oy1dpm8gvhdnnmuwg30befwiriqfi",init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"fontsizeselect | bold italic backcolor | link | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent"},value:a,onEditorChange:t})},F=function(e){var t=e.activeTabId,a=e.course,n=e.courseDescription,c=e.handleEditorChange,r=e.handleEditorCancel,l=e.handleEditorSave;return s.a.createElement("div",{id:"description-view",className:"description tab-view ".concat("description"===t&&"is-visible")},s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{className:"button is-success",disabled:n===a.description,onClick:l},"Save"),s.a.createElement("button",{className:"button is-danger",disabled:n===a.description,onClick:r},"Cancel")),s.a.createElement("div",{className:"is-flex"},s.a.createElement("div",{className:"editor-container"},s.a.createElement(U,{handleEditorChange:c,value:n})),s.a.createElement("div",{className:"content"},s.a.createElement("h1",{className:"is-size-4"},"Preview Description"),_()(n))))},q=function(e){var t=e.activeTabId,a=e.courseSections,c=e.newSectionName,r=e.setNewSectionName,l=e.handleNewSectionAdd,i=e.handleNewSectionCancel,o=e.handleSectionDelete,u=e.activeSectionId,m=e.setActiveSectionId,d=e.courseLessons,p=e.handleNewLessonAdd,f=e.addLessonOpen,v=e.setAddLessonOpen,E=e.handleLessonView,b=e.handleLessonDelete,h=e.uploadStatus,N=e.setUploadStatus,g=Object(n.useState)(""),O=Object(j.a)(g,2),w=O[0],y=O[1];return s.a.createElement("div",{id:"sections-view",className:"sections tab-view ".concat("sections"===t&&"is-visible")},s.a.createElement("div",{className:"is-flex"},s.a.createElement("aside",{className:"menu"},s.a.createElement("input",{type:"text",className:"input",value:c,onChange:function(e){e.preventDefault(),r(e.target.value)}}),s.a.createElement("button",{className:"button is-small is-success",onClick:l},"Add"),s.a.createElement("button",{className:"button is-small is-danger",onClick:i},"Cancel"),s.a.createElement("p",{className:"menu-label"},"Sections"),s.a.createElement("ul",{className:"menu-list"},a.map((function(e,t){return s.a.createElement("li",{key:e.id,onClick:function(t){t.preventDefault(),m(e.id)}},s.a.createElement("a",{href:"#sections",className:"".concat(u===e.id&&"is-active")},"".concat(t+1,". ").concat(e.title)))})))),s.a.createElement("div",{className:"active-section"},s.a.createElement("div",{className:"is-flex actions"},s.a.createElement("h1",{className:"is-size-4 heading"},"Section: ".concat(u)),s.a.createElement("button",{className:"button is-danger",onClick:o},"Delete Section")),s.a.createElement("div",{className:"is-flex actions"},s.a.createElement("h1",{className:"is-size-4"},"Lessons"),s.a.createElement("div",{className:"add is-flex",onClick:function(e){e.preventDefault(),v(!0),N(0)}},s.a.createElement("p",{className:"is-size-5"},"Add Lesson"),s.a.createElement("img",{src:"/images/add.png",alt:"add",className:"icon"}))),s.a.createElement("form",{id:"addNewLesson",className:"".concat(f&&"is-visible"),encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),p(e,y)}},s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("label",{className:"label"},"Lesson Type"),s.a.createElement("div",{className:"control"},s.a.createElement("select",{className:"select item",name:"lessontype",required:!0},s.a.createElement("option",{value:""},"Select..."),s.a.createElement("option",{value:"VIDEO"},"Video"),s.a.createElement("option",{value:"DOC"},"Document"))),s.a.createElement("label",{className:"label"},"Lesson Access"),s.a.createElement("div",{className:"control"},s.a.createElement("select",{className:"select item",name:"lessonaccess",required:!0},s.a.createElement("option",{value:""},"Select..."),s.a.createElement("option",{value:"Preview"},"Preview"),s.a.createElement("option",{value:"Freeview"},"Freeview"),s.a.createElement("option",{value:"Premium"},"Premium")))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Lesson Title"),s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"input item",name:"title",type:"text",required:!0,autoComplete:"off"}))),s.a.createElement("div",{className:"file has-name is-fullwidth"},s.a.createElement("label",{className:"file-label"},s.a.createElement("input",{className:"file-input",type:"file",name:"resource",required:!0,onChange:function(e){y(e.target.files[0].name)}}),s.a.createElement("span",{className:"file-cta"},s.a.createElement("span",{className:"file-label"},"Upload File")),s.a.createElement("span",{className:"file-name"},w))),h>0?s.a.createElement("p",null,"".concat(h,"% Uploaded")):null,s.a.createElement("button",{type:"submit",className:"button is-success is-small"},"Add"),s.a.createElement("button",{className:"button is-danger is-small",onClick:function(e){e.preventDefault(),v(!1),document.getElementById("addNewLesson").reset()}},"Cancel")),s.a.createElement("table",{className:"table is-bordered is-hoverable is-fullwidth"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Title"),s.a.createElement("th",null,"Content Type"),s.a.createElement("th",null,"Access Type"),s.a.createElement("th",null,"Actions"))),s.a.createElement("tbody",null,d.filter((function(e){return e.sectionid===u})).map((function(e,t){return s.a.createElement("tr",{key:e.lesson._id},s.a.createElement("td",null,e.lesson.title),s.a.createElement("td",null,"VIDEO"===e.lesson.lessontype?"Video":"DOC"===e.lesson.lessontype?"Document":""),s.a.createElement("td",null,e.access),s.a.createElement("td",null,s.a.createElement("button",{className:"button is-primary is-small",value:e.lesson._id,onClick:E},"View"),s.a.createElement("button",{className:"button is-danger is-small",value:e.lesson._id,onClick:function(t){b(t,e.lesson._id)}},"Delete")))})))))))},R=Object(l.b)((function(e){return{}}))((function(e){var t=e.match.params.id,a=Object(n.useState)({status:"",teacher:"",title:"",subtitle:"",description:"",mrp:0,sp:0,sections:[]}),c=Object(j.a)(a,2),r=c[0],l=c[1],i=Object(n.useState)(""),o=Object(j.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)("overview"),p=Object(j.a)(d,2),f=p[0],v=p[1],E=Object(n.useState)(""),N=Object(j.a)(E,2),O=N[0],w=N[1],x=Object(n.useState)(""),C=Object(j.a)(x,2),S=C[0],D=C[1],T=Object(n.useState)(""),I=Object(j.a)(T,2),L=I[0],A=I[1],_=Object(n.useState)(0),P=Object(j.a)(_,2),U=P[0],R=P[1],M=Object(n.useState)(0),V=Object(j.a)(M,2),B=V[0],G=V[1],X=Object(n.useState)([]),H=Object(j.a)(X,2),J=H[0],W=H[1],K=Object(n.useState)([]),Q=Object(j.a)(K,2),Y=Q[0],Z=Q[1],$=Object(n.useState)(""),ee=Object(j.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),se=Object(j.a)(ne,2),ce=se[0],re=se[1],le=Object(n.useState)(!1),ie=Object(j.a)(le,2),oe=ie[0],ue=ie[1],me=Object(n.useState)(0),de=Object(j.a)(me,2),pe=de[0],fe=de[1],ve=function(e){return{status:e.status,teacher:e.teacher.name.last?e.teacher.name.first+" "+e.teacher.name.last:e.teacher.name.first,title:e.title,titleId:e.titleId,subtitle:e.subtitle||"",description:e.description||"",mrp:e.fees&&e.fees.mrp||0,sp:e.fees&&e.fees.sp||0,sections:e.sections,lessons:e.lessons}},Ee=function(e){l(e),m(e.description),w(e.title),D(e.titleId),A(e.subtitle),R(e.mrp),G(e.sp),W(e.sections),Z(e.lessons),fe(0),ue(!1),e.sections.length>0&&""===ce&&re(e.sections[0].id)};Object(n.useEffect)((function(){(function(){var a=Object(h.a)(b.a.mark((function a(){var n,s,c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.get("/api/course/".concat(t));case 3:n=a.sent,s=n.data.payload,c=ve(s),Ee(c),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),a.t0.response?k(e.dispatch,a.t0.response.data.msg,"is-danger"):console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}})()()}),[e,t]);var be=function(e){e.preventDefault(),v(e.currentTarget.id)},he=function(){var a=Object(h.a)(b.a.mark((function a(n){var s,c,r,l,i;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),s=document.getElementById("editCourseOverview"),c=new FormData(s),a.prev=3,a.next=6,g.a.put("/api/course/".concat(t,"/overview"),c);case 6:r=a.sent,l=r.data.payload,i=ve(l),Ee(i),k(e.dispatch,"Course Overview Updated","is-success"),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(3),a.t0.response?k(e.dispatch,a.t0.response.data.msg,"is-danger"):console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[3,13]])})));return function(e){return a.apply(this,arguments)}}(),Ne=function(){var a=Object(h.a)(b.a.mark((function a(n){var s,c,r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n.preventDefault(),a.next=4,g.a.put("/api/course/".concat(t,"/status/live"));case 4:s=a.sent,c=s.data.payload,r=ve(c),Ee(r),k(e.dispatch,"Course is now Live","is-success"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),a.t0.response?k(e.dispatch,a.t0.response.data.msg,"is-danger"):console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}(),ge=function(){var a=Object(h.a)(b.a.mark((function a(n){var s,c,r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n.preventDefault(),a.next=4,g.a.put("/api/course/".concat(t,"/status/pause"));case 4:s=a.sent,c=s.data.payload,r=ve(c),Ee(r),k(e.dispatch,"Course is now Paused","is-success"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),a.t0.response?k(e.dispatch,a.t0.response.data.msg,"is-danger"):console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}(),Oe=function(){var a=Object(h.a)(b.a.mark((function a(n){var s,c,r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,a.next=4,g.a.put("/api/course/".concat(t,"/description"),{description:u});case 4:s=a.sent,c=s.data.payload,r=ve(c),Ee(r),k(e.dispatch,"Course description updated","is-success"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),a.t0.response?k(e.dispatch,a.t0.response.data.msg,"is-danger"):console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}(),we=function(){var a=Object(h.a)(b.a.mark((function a(n){var s,c,r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,a.next=4,g.a.post("/api/course/".concat(t,"/section"),{newSectionName:te});case 4:s=a.sent,c=s.data.payload,r=ve(c),Ee(r),ae(""),k(e.dispatch,"New Section added","is-success"),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),a.t0.response?k(e.dispatch,a.t0.response.data.msg,"is-danger"):console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}(),ye=function(){var a=Object(h.a)(b.a.mark((function a(n){var s,c,r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,a.next=4,g.a.delete("/api/course/".concat(t,"/section/").concat(ce));case 4:s=a.sent,c=s.data.payload,r=ve(c),Ee(r),k(e.dispatch,"Section Deleted","is-success"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),a.t0.response?k(e.dispatch,a.t0.response.data.msg,"is-danger"):console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}(),xe=function(){var a=Object(h.a)(b.a.mark((function a(n,s){var c,r,l,i,o,u,m,d,p,f,v,E,h,N,O;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),""!==ce){a.next=4;break}return k(e.dispatch,"Please select a section before adding a lesson","is-danger"),a.abrupt("return");case 4:return a.prev=4,c=document.getElementById("addNewLesson"),r=new FormData(c),l=r.get("resource"),i=r.get("title"),o=r.get("lessontype"),u=r.get("lessonaccess"),a.next=13,g.a.get("/api/lesson/puturl/".concat(l.name));case 13:if(m=a.sent,d=m.data.payload.url,p=m.data.payload.bucket,f=m.data.payload.key,"VIDEO"!==o||-1!==l.type.indexOf("video")){a.next=22;break}return k(e.dispatch,"Expected video file, got something else.","is-danger"),a.abrupt("return");case 22:if("DOC"!==o||-1!==l.type.indexOf("pdf")){a.next=25;break}return k(e.dispatch,"Expected pdf file, got something else.","is-danger"),a.abrupt("return");case 25:return k(e.dispatch,"Upload will start in a few seconds. Do not refresh this page.","is-success"),v={headers:{"Content-Type":l.type},onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);fe(t)}},a.next=29,g.a.put(d,l,v);case 29:return E={title:i,lessontype:o,lessonaccess:u,bucket:p,key:f},a.next=32,g.a.post("/api/course/".concat(t,"/section/").concat(ce,"/lesson"),E);case 32:h=a.sent,N=h.data.payload,O=ve(N),Ee(O),c.reset(),s(""),k(e.dispatch,"Lesson Added","is-success"),a.next=44;break;case 41:a.prev=41,a.t0=a.catch(4),a.t0.response?k(e.dispatch,a.t0.response.data.msg,"is-danger"):console.log(a.t0);case 44:case"end":return a.stop()}}),a,null,[[4,41]])})));return function(e,t){return a.apply(this,arguments)}}(),je=function(){var t=Object(h.a)(b.a.mark((function t(a){var n,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,g.a.get("/api/lesson/".concat(a.target.value,"/url"));case 4:n=t.sent,s=n.data.payload,window.open(s),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),t.t0.response?k(e.dispatch,t.t0.response.data.msg,"is-danger"):console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),ke=function(){var a=Object(h.a)(b.a.mark((function a(n,s){var c,r,l;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,a.next=4,g.a.delete("/api/course/".concat(t,"/lesson/").concat(s));case 4:c=a.sent,r=c.data.payload,l=ve(r),Ee(l),k(e.dispatch,"Lesson Deleted","is-success"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),a.t0.response?k(e.dispatch,a.t0.response.data.msg,"is-danger"):console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}();return s.a.createElement(n.Fragment,null,s.a.createElement(y,null),s.a.createElement("section",{className:"course-edit"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"is-flex heading"},s.a.createElement("div",null,s.a.createElement("h1",{className:"is-size-3"},"Edit Course"),s.a.createElement("p",{className:"is-size-5"},"".concat(r.title," by ").concat(r.teacher))),s.a.createElement("div",{className:"buttons"},s.a.createElement("a",{href:"/courses/".concat(S,"/view/preview")},s.a.createElement("button",{className:"button is-info"},"View Course")))),s.a.createElement("div",{className:"tabs is-boxed"},s.a.createElement("ul",null,s.a.createElement("li",{id:"overview",className:"overview"===f?"is-active":null,onClick:be},s.a.createElement("a",{href:"#overview"},s.a.createElement("span",null,"Overview"))),s.a.createElement("li",{id:"description",className:"description"===f?"is-active":null,onClick:be},s.a.createElement("a",{href:"#description"},s.a.createElement("span",null,"Description"))),s.a.createElement("li",{id:"sections",className:"sections"===f?"is-active":null,onClick:be},s.a.createElement("a",{href:"#sections"},s.a.createElement("span",null,"Sections"))))),s.a.createElement(z,{activeTabId:f,course:r,courseTitle:O,setCourseTitle:w,courseSubTitle:L,setCourseSubTitle:A,courseMrp:U,setCourseMrp:R,courseSp:B,setCourseSp:G,handleOverviewSave:he,handleOverviewCancel:function(e){e.preventDefault(),Ee(r)},handleCourseLive:Ne,handleCoursePause:ge}),s.a.createElement(F,{activeTabId:f,course:r,courseDescription:u,handleEditorChange:function(e,t){m(e)},handleEditorCancel:function(e){e.preventDefault(),Ee(r)},handleEditorSave:Oe}),s.a.createElement(q,{activeTabId:f,course:r,courseSections:J,setCourseSections:W,courseLessons:Y,setCourseLessons:Z,newSectionName:te,setNewSectionName:ae,handleNewSectionAdd:we,handleNewSectionCancel:function(e){e.preventDefault(),ae("")},handleSectionDelete:ye,activeSectionId:ce,setActiveSectionId:re,handleNewLessonAdd:xe,addLessonOpen:oe,setAddLessonOpen:ue,handleLessonView:je,handleLessonDelete:ke,uploadStatus:pe,setUploadStatus:fe}))))})),M=(a(152),a(66)),V=a.n(M),B=function(e){var t=e.lesson,a=e.lessonUrl;return"no-access"===t.lesson?s.a.createElement("div",null,"No Access"):"VIDEO"===t.lessontype?s.a.createElement("div",{onContextMenu:function(e){return e.preventDefault(),!1}},s.a.createElement(V.a,{width:"900px",height:"510px",url:a,controls:!0,config:{file:{attributes:{controlsList:"nodownload"}}}})):"DOC"===t.lessontype?s.a.createElement("iframe",{title:"document",width:"900px",height:"510px",src:a}):s.a.createElement("div",null,"Loading")},G=Object(l.b)((function(e){return{}}))((function(e){var t=e.match.params,a=t.id,c=t.as,r=Object(n.useState)({}),l=Object(j.a)(r,2),i=l[0],o=l[1],u=Object(n.useState)({}),m=Object(j.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(""),v=Object(j.a)(f,2),E=v[0],N=v[1];Object(n.useEffect)((function(){(function(){var t=Object(h.a)(b.a.mark((function t(){var n,s,r,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("/api/course/".concat(c,"/").concat(a));case 3:return n=t.sent,s=n.data.payload,o(s),p(s.lessons[0]),t.next=9,g.a.get("/api/lesson/".concat(s.lesson[0],"/url"));case 9:r=t.sent,l=r.data.payload,N(l),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),t.t0.response?k(e.dispatch,t.t0.response.data.msg,"is-danger"):console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}})()()}),[c,a,e.dispatch]);var O=function(){var t=Object(h.a)(b.a.mark((function t(a,n){var s,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,"no-access"!==n.lesson){t.next=6;break}k(e.dispatch,"Resource blocked by paywall or auth wall.","is-success"),t.next=12;break;case 6:return t.next=8,g.a.get("/api/lesson/".concat(n.lesson,"/url"));case 8:s=t.sent,c=s.data.payload,p(n),N(c);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),t.t0.response?k(e.dispatch,t.t0.response.data.msg,"is-danger"):console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,a){return t.apply(this,arguments)}}();return s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"is-flex container view-toggler"},s.a.createElement("p",null,"View:"),s.a.createElement("div",{className:"is-flex view-tabs"},s.a.createElement("a",{href:"/courses/".concat(a,"/view/preview"),className:"".concat("preview"===c&&"is-active")},"Preview"),s.a.createElement("a",{href:"/courses/".concat(a,"/view/freeview"),className:"".concat("freeview"===c&&"is-active")},"Freeview"),s.a.createElement("a",{href:"/courses/".concat(a,"/view/premium"),className:"".concat("premium"===c&&"is-active")},"Premium"))),s.a.createElement(y,null),s.a.createElement("section",{className:"course-view"},s.a.createElement("div",{className:"course-title"},s.a.createElement("p",{className:"is-size-4"},i.title),s.a.createElement("p",{className:"is-size-6"},i.subtitle)),s.a.createElement("div",{className:"container is-flex"},s.a.createElement("div",{className:"course-content"},s.a.createElement(B,{lesson:d,lessonUrl:E})),s.a.createElement("aside",{className:"menu"},s.a.createElement("p",{className:"menu-label"},s.a.createElement("strong",null,"Course Content")),s.a.createElement("ul",{className:"menu-list"},i.sections?i.sections.map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("a",{href:"#section"},"Section ".concat(t+1,": ").concat(e.title)),s.a.createElement("ul",{className:"lessons"},i.lessons?i.lessons.filter((function(t){return t.sectionid===e.id})).map((function(e,t){return s.a.createElement("li",{key:t,onClick:function(t){return O(t,e)}},s.a.createElement("a",{href:"#lesson"},"".concat(t+1,". ").concat(e.title)))})):""))})):"")))))})),X=(a(169),Object(l.b)((function(e){return{permission:e.logInReducer.permission}}))((function(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)([]),i=Object(j.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(""),d=Object(j.a)(m,2),p=d[0],f=d[1],v=Object(n.useState)(""),E=Object(j.a)(v,2),N=E[0],O=E[1],w=Object(n.useState)(!1),x=Object(j.a)(w,2),C=x[0],S=x[1];Object(n.useEffect)((function(){(function(){var t=Object(h.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("api/user/all");case 3:a=t.sent,n=a.data.payload,r(n),u(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),k(e.dispatch,t.t0.response.data.msg,"is-danger");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}})()()}),[e]);var D=function(e){e.preventDefault(),S(!C)},T=function(){var t=Object(h.a)(b.a.mark((function t(a){var n,s,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=document.getElementById("createUser"),s=new FormData(n),D(a),t.prev=4,t.next=7,g.a.post("api/user",s);case 7:c=t.sent,r(c.data.payload),u(c.data.payload),k(e.dispatch,"User Created","is-success"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),t.t0.response?k(e.dispatch,t.t0.response.data.msg,"is-danger"):console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}(),I=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),f(""),O(""),u(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var t=Object(h.a)(b.a.mark((function t(a){var n,s,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=a.target.value,t.prev=2,t.next=5,g.a.delete("/api/user/".concat(n));case 5:s=t.sent,c=s.data,r(c.payload),u(c.payload),k(e.dispatch,"User Deleted","is-success"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),t.t0.response?k(e.dispatch,t.t0.response.data.msg,"is-danger"):console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}(),z=function(){var t=Object(h.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,g.a.put("/api/user/password/reset",{id:a.target.value});case 4:k(e.dispatch,"Password Reset Successfully","is-success"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.response?k(e.dispatch,t.t0.response.data.msg,"is-danger"):console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return s.a.createElement(n.Fragment,null,s.a.createElement(y,null),s.a.createElement("section",{className:"users"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"is-size-3"},"Users"),s.a.createElement("div",{className:"actions is-flex"},s.a.createElement("div",{className:"search is-flex"},s.a.createElement("input",{className:"input search-box",type:"text",placeholder:"Search by name",onChange:function(e){e.preventDefault(),f(e.target.value)},value:p}),s.a.createElement("input",{className:"input search-box",type:"text",placeholder:"Search by email",onChange:function(e){e.preventDefault(),O(e.target.value)},value:N}),s.a.createElement("button",{className:"button is-primary",onClick:function(e){e.preventDefault();var t=c.filter((function(e){var t="";t=e.name.last?e.name.first+" "+e.name.last:e.name.first;var a=e.email;return-1!==t.toLowerCase().indexOf(p.toLowerCase())&&-1!==a.toLowerCase().indexOf(N.toLowerCase())}));u(t)}},"Search"),s.a.createElement("button",{className:"button is-info",onClick:I},"Reset")),s.a.createElement("div",{className:"add is-flex",onClick:D},s.a.createElement("p",{className:"is-size-5"},"Add User"),s.a.createElement("img",{src:"/images/add.png",alt:"add",className:"icon"}))),s.a.createElement("div",{className:"modal ".concat(C&&"is-active")},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"New User"),s.a.createElement("button",{className:"delete","aria-label":"close",onClick:D})),s.a.createElement("section",{className:"modal-card-body"},s.a.createElement("form",{id:"createUser",onSubmit:T,className:"form",encType:"multipart/form-data"},s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("input",{type:"text",className:"input first",name:"firstname",placeholder:"First Name",required:!0}),s.a.createElement("input",{type:"text",className:"input",name:"lastname",placeholder:"Last Name",required:!0})),s.a.createElement("input",{type:"email",className:"input item",name:"email",placeholder:"Email Id",required:!0}),s.a.createElement("select",{name:"permissionlevel",className:"select item",required:!0},s.a.createElement("option",{value:""},"Permission"),s.a.createElement("option",{value:3},"EDITOR"),e.permission<=2?s.a.createElement("option",{value:2},"MODERATOR"):null,e.permission<=1?s.a.createElement("option",{value:1},"ADMIN"):null,0===e.permission?s.a.createElement("option",{value:0},"SUPERUSER"):null))),s.a.createElement("footer",{className:"modal-card-foot"},s.a.createElement("button",{form:"createUser",type:"submit",className:"button is-success"},"Add"),s.a.createElement("button",{className:"button",onClick:D},"Cancel")))),s.a.createElement("table",{className:"table is-bordered is-hoverable is-fullwidth"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Email Id"),s.a.createElement("th",null,"Permission"),s.a.createElement("th",null,"Actions"))),s.a.createElement("tbody",null,o.map((function(e){var t="";return t=e.name.last?e.name.first+" "+e.name.last:e.name.first,s.a.createElement("tr",{key:e._id},s.a.createElement("td",null,t),s.a.createElement("td",null,e.email),s.a.createElement("td",null,e.permission.title),s.a.createElement("td",null,s.a.createElement("button",{className:"button is-small is-danger",value:e._id,onClick:L},"Delete User"),s.a.createElement("button",{className:"button is-small is-info",value:e._id,onClick:z},"Reset Password")))})))))))}))),H=(a(170),Object(l.b)((function(e){return{}}))((function(e){var t=Object(n.useState)(""),a=Object(j.a)(t,2),c=a[0],r=a[1],l=Object(u.g)(),i=(Object(u.h)().state||{from:{pathname:"/"}}).from,o=function(){var t=Object(h.a)(b.a.mark((function t(a){var n,s,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=a.target.elements.email.value,s=a.target.elements.password.value,t.next=5,w.login(n,s,e.dispatch);case 5:c=t.sent,l.replace(i),"failed"===c[0]&&r(c[1]);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return s.a.createElement("section",{className:"hero is-fullheight login"},s.a.createElement("div",{className:"hero-body"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"columns is-centered"},s.a.createElement("div",{className:"column is-5-tablet is-4-desktop is-3-widescreen"},s.a.createElement("form",{action:"",onSubmit:o,className:"box has-text-centered"},s.a.createElement("p",{className:"is-size-4 title"},"Welcome to Carlos!"),s.a.createElement("div",{className:"field has-text-centered"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"email",name:"email",placeholder:"Email",className:"input",required:!0}))),s.a.createElement("div",{className:"field has-text-centered"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"password",name:"password",placeholder:"Password",className:"input",required:!0}))),s.a.createElement("div",{className:"field has-text-centered"},s.a.createElement("p",{className:"is-size-7"},c)),s.a.createElement("div",{className:"field has-text-centered"},s.a.createElement("button",{type:"submit",className:"button is-success"},"Login"))))))))}))),J=a(68),W=(a(172),function(){return s.a.createElement("section",{className:"loading"},s.a.createElement("div",{className:"lds-ellipsis"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null)))}),K=function(e){var t=e.component,a=Object(J.a)(e,["component"]),c=Object(n.useState)(null),r=Object(j.a)(c,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){(function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.isAuthenticated();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),null===l?s.a.createElement(u.b,{component:W}):s.a.createElement(u.b,Object.assign({},a,{render:function(e){return l?s.a.createElement(t,e):s.a.createElement(u.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Q=Object(l.b)((function(e){return{}}))((function(e){return s.a.createElement(n.Fragment,null,s.a.createElement(v,null),s.a.createElement(o.a,null,s.a.createElement(u.d,null,s.a.createElement(u.b,Object.assign({exact:!0,path:"/login"},e,{component:H})),s.a.createElement(K,Object.assign({exact:!0,path:"/"},e,{component:x})),s.a.createElement(K,Object.assign({exact:!0,path:"/teachers"},e,{component:C})),s.a.createElement(K,Object.assign({path:"/teachers/:id/view"},e,{component:T})),s.a.createElement(K,Object.assign({path:"/teachers/:id/edit"},e,{component:I})),s.a.createElement(K,Object.assign({exact:!0,path:"/courses"},e,{component:L})),s.a.createElement(K,Object.assign({path:"/courses/:id/edit"},e,{component:R})),s.a.createElement(K,Object.assign({path:"/courses/:id/view/:as"},e,{component:G})),s.a.createElement(K,Object.assign({exact:!0,path:"/users"},e,{component:X})))))})),Y=a(13),Z=a(69),$=a(34),ee=a(70),te=a.n(ee),ae=a(36),ne={isLoggedIn:!1,permission:1e4},se=a(35),ce=[],re=Object(Y.c)({logInReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,n=t.payload;switch(a){case"LOG_IN":case"LOG_OUT":return Object(ae.a)({},e,{},n);default:return e}},notificationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,n=t.payload;switch(a){case"SET_NOTIFICATION":return[].concat(Object(se.a)(e),[[n.id,n.message,n.level]]);case"REMOVE_NOTIFICATION":return Object(se.a)(e.filter((function(e){return e[0]!==n.id})));default:return e}}}),le={key:"root",storage:te.a},ie=Object($.a)(le,re),oe=function(){var e=Object(Y.e)(ie,Object(Y.d)(Object(Y.a)(Z.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));return{store:e,persistor:Object($.b)(e)}}(),ue=oe.store,me=oe.persistor,de=document.getElementById("root"),pe=s.a.createElement(l.a,{store:ue},s.a.createElement(i.a,{loading:null,persistor:me},s.a.createElement(Q,null)));r.a.render(pe,de)},73:function(e,t,a){e.exports=a(175)},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.20f6d7ed.chunk.js.map
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{42:function(e,a,t){e.exports=t(84)},51:function(e,a,t){},52:function(e,a,t){},71:function(e,a,t){},72:function(e,a,t){},73:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){},84:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(18),l=t.n(c),s=t(6),i=t(37),o=t(21),m=t(14),u=(t(51),t(12),t(52),t(1)),d=t.n(u),p=t(3),f=function(e,a,t){return{type:"LOG_IN",payload:{isLoggedIn:!0,name:e,permission:a,expiry:t}}},E=function(){return{type:"LOG_OUT",payload:{isLoggedIn:!1,name:"",permission:"",expiry:0}}},b=t(5),v=t.n(b),h={login:function(){var e=Object(p.a)(d.a.mark((function e(a,t,n,r){var c,l,s,i,o,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("/api/auth/local",{email:a,password:t});case 3:return c=e.sent,e.next=6,c.data;case 6:return l=e.sent,s=l.payload,i=s.name,o=s.permission,m=s.expiry,n(r(i,o,m)),window.location.reload(),e.abrupt("return",["success",l]);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",["failed",e.t0.response.data]);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(a,t,n,r){return e.apply(this,arguments)}}(),logout:function(){var e=Object(p.a)(d.a.mark((function e(a,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/auth/logout");case 3:a(t()),window.location.reload(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",["failed",e.t0.response.data]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a,t){return e.apply(this,arguments)}}(),isAuthenticated:Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/auth");case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))},N=Object(s.b)((function(e){return{name:e.logInReducer.user.name}}))((function(e){var a=function(){var a=Object(p.a)(d.a.mark((function a(t){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),h.logout(e.dispatch,E);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("nav",{className:"navbar is-warning",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement("a",{className:"navbar-item",href:"/"},"Home"),r.a.createElement("a",{className:"navbar-item",href:"/courses"},"Courses"),r.a.createElement("a",{className:"navbar-item",href:"/teachers"},"Teachers"),r.a.createElement("a",{className:"navbar-item",href:"/users"},"Users")),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("p",{onClick:a,style:{cursor:"pointer",fontWeight:"bold"}},"Log Out")))))})),g=Object(s.b)((function(e){return{}}))((function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(N,null),r.a.createElement("section",{className:"home"},r.a.createElement("div",{className:"container content has-text-centered"},r.a.createElement("h1",{className:"is-size-3"},"Home"),"Charts and high level statistics will appear here in the near future.",r.a.createElement("br",null),"Explore the other tabs for now.")))})),w=t(2),O=(t(71),Object(s.b)((function(e){return{}}))((function(e){var a=Object(n.useState)([]),t=Object(w.a)(a,2),c=t[0],l=t[1],s=Object(n.useState)([]),i=Object(w.a)(s,2),o=i[0],m=i[1],u=Object(n.useState)(""),f=Object(w.a)(u,2),E=f[0],b=f[1],h=Object(n.useState)(""),g=Object(w.a)(h,2),O=g[0],x=g[1],j=Object(n.useState)(!1),y=Object(w.a)(j,2),k=y[0],C=y[1],S=Object(n.useState)("No file chosen"),D=Object(w.a)(S,2),I=D[0],T=D[1];Object(n.useEffect)((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("api/teacher/all");case 3:a=e.sent,t=a.data,l(t),m(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var L=function(e){e.preventDefault(),C(!k)},z=function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t=document.getElementById("createTeacher"),n=new FormData(t),e.prev=3,e.next=6,v.a.post("api/teacher",n);case 6:r=e.sent,window.location.reload(),window.alert(r.data.success.desc),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),c=e.t0.response.data.error,window.alert(c.desc),console.log(c);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),b(""),x(""),m(c);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t=a.target.value,e.prev=2,e.next=5,v.a.delete("/api/teacher/".concat(t));case 5:n=e.sent,window.location.reload(),window.alert(n.data.success.desc),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),r=e.t0.response.data.error,window.alert(r.desc);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(N,null),r.a.createElement("section",{className:"teachers"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"is-size-3"},"Teachers"),r.a.createElement("div",{className:"actions is-flex"},r.a.createElement("div",{className:"search is-flex"},r.a.createElement("input",{className:"input search-box",type:"text",placeholder:"Search by name",onChange:function(e){e.preventDefault(),b(e.target.value)},value:E}),r.a.createElement("input",{className:"input search-box",type:"text",placeholder:"Search by email",onChange:function(e){e.preventDefault(),x(e.target.value)},value:O}),r.a.createElement("button",{className:"button is-primary",onClick:function(e){e.preventDefault();var a=c.filter((function(e){var a="";a=e.name.last?e.name.first+" "+e.name.last:e.name.first;var t=e.email;return-1!==a.toLowerCase().indexOf(E.toLowerCase())&&-1!==t.toLowerCase().indexOf(O.toLowerCase())}));m(a)}},"Search"),r.a.createElement("button",{className:"button is-info",onClick:A},"Reset")),r.a.createElement("div",{className:"add is-flex",onClick:L},r.a.createElement("p",{className:"is-size-5"},"Add Teacher"),r.a.createElement("img",{src:"/images/add.png",alt:"add",className:"icon"}))),r.a.createElement("div",{className:"modal ".concat(k&&"is-active")},r.a.createElement("div",{className:"modal-background"}),r.a.createElement("div",{className:"modal-card"},r.a.createElement("header",{className:"modal-card-head"},r.a.createElement("p",{className:"modal-card-title"},"New Teacher"),r.a.createElement("button",{className:"delete","aria-label":"close",onClick:L})),r.a.createElement("section",{className:"modal-card-body"},r.a.createElement("form",{id:"createTeacher",onSubmit:z,className:"form",encType:"multipart/form-data"},r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("input",{type:"text",className:"input first",name:"firstname",placeholder:"First Name",required:!0}),r.a.createElement("input",{type:"text",className:"input",name:"lastname",placeholder:"Last Name",required:!0})),r.a.createElement("input",{type:"email",className:"input item",name:"email",placeholder:"Email Id",required:!0}),r.a.createElement("textarea",{className:"textarea item",name:"about",placeholder:"About Teacher. e.g. I am a professional poker player for 6years..."}),r.a.createElement("input",{type:"url",className:"input item",name:"facebook",placeholder:"Facebook"}),r.a.createElement("input",{type:"url",className:"input item",name:"linkedin",placeholder:"Linkedin"}),r.a.createElement("input",{type:"url",className:"input item",name:"twitter",placeholder:"Twitter"}),r.a.createElement("div",{className:"file has-name is-fullwidth"},r.a.createElement("label",{className:"file-label"},r.a.createElement("input",{className:"file-input",type:"file",name:"avatar",onChange:function(e){T(e.target.files[0].name)}}),r.a.createElement("span",{className:"file-cta"},r.a.createElement("span",{className:"file-label"},"Upload Profile Image")),r.a.createElement("span",{className:"file-name"},I))))),r.a.createElement("footer",{className:"modal-card-foot"},r.a.createElement("button",{form:"createTeacher",type:"submit",className:"button is-success"},"Add"),r.a.createElement("button",{className:"button",onClick:L},"Cancel")))),r.a.createElement("table",{className:"table is-bordered is-hoverable is-fullwidth"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email Id"),r.a.createElement("th",null,"Courses"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,o.map((function(e){var a="";return a=e.name.last?e.name.first+" "+e.name.last:e.name.first,r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,a),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.courses.length),r.a.createElement("td",null,r.a.createElement("a",{href:"/teachers/".concat(e._id,"/edit")},r.a.createElement("button",{className:"button is-small is-info"},"Edit")),r.a.createElement("a",{href:"/teachers/".concat(e._id,"/view")},r.a.createElement("button",{className:"button is-small is-primary"},"View")),0===e.courses.length?r.a.createElement("button",{className:"button is-small is-danger",value:e._id,onClick:F},"Delete"):null))})))))))}))),x=(t(72),t(73),function(e){var a=e.cardsArr;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"scrolling-wrapper"},a.map((function(e){return r.a.createElement("div",{class:"scrolly-card"},e)}))))}),j=(t(74),function(e){var a=e.courseImage,t=e.courseName,n=e.teacherName,c=e.status,l=e.sp,s=e.mrp;return r.a.createElement("div",{className:"card course-card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:a,alt:"Course"}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},"INCOMPLETE"===c||"PAUSED"===c?r.a.createElement("p",{className:"is-size-7",style:{color:"red"}},c):null,r.a.createElement("p",{className:"title is-5"},t),r.a.createElement("p",{className:"subtitle is-7"},n),r.a.createElement("div",{className:"price is-flex"},r.a.createElement("p",{className:"is-size-5"},"\u20b9 ".concat(l)),r.a.createElement("p",{className:"is-size-6 obsolete"},r.a.createElement("strike",null,"\u20b9 ".concat(s))))))))}),y=Object(s.b)((function(e){return{}}))((function(e){var a=e.match.params.id,t=Object(n.useState)({name:{first:"",last:""},social:{facebook:"",linkedin:"",twitter:""},courses:[],avatar:{bucket:"",key:"",url:""}}),c=Object(w.a)(t,2),l=c[0],s=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/teacher/".concat(a));case 2:t=e.sent,n=t.data,console.log(n),s(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),r.a.createElement(n.Fragment,null,r.a.createElement(N,null),r.a.createElement("section",{className:"teacher-view"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"has-text-centered is-flex-desktop",style:{"align-items":"center"}},r.a.createElement("figure",{className:"image"},r.a.createElement("img",{className:"is-rounded display-pic",src:l.avatar.url,alt:"dp"})),r.a.createElement("div",{className:"intro"},r.a.createElement("p",{className:"is-size-2"},l.name.last?l.name.first+" "+l.name.last:l.name.first),r.a.createElement("div",{className:"stats is-flex has-text-centered"},r.a.createElement("div",{className:"stat has-text-centered"},r.a.createElement("p",{className:"is-size-7"},"Courses"),r.a.createElement("p",{className:"is-size-5"},l.courses.length)),r.a.createElement("div",{className:"stat has-text-centered"},r.a.createElement("p",{className:"is-size-7"},"Students"),r.a.createElement("p",{className:"is-size-5"},"1509")),r.a.createElement("div",{className:"stat has-text-centered"},r.a.createElement("p",{className:"is-size-7"},"Reviews"),r.a.createElement("p",{className:"is-size-5"},"856")))),r.a.createElement("a",{href:"/teachers/".concat(a,"/edit"),style:{"margin-left":"auto"}},r.a.createElement("button",{className:"button is-info"},"Edit"))),r.a.createElement("div",{className:"about"},r.a.createElement("p",{className:"is-size-6"},r.a.createElement("strong",null,"About Me")),r.a.createElement("p",{className:"is-size-6"},l.about)),r.a.createElement("div",{className:"courses"},r.a.createElement("p",{className:"is-size-6"},r.a.createElement("strong",null,"My Courses (".concat(l.courses.length,")"))),r.a.createElement("div",{className:"cards is-flex-tablet"},r.a.createElement(x,{cardsArr:l.courses.map((function(e){return r.a.createElement(j,{courseImage:"https://bulma.io/images/placeholders/1280x960.png",courseName:e.title,teacherName:l.name.last?l.name.first+" "+l.name.last:l.name.first,status:e.status,sp:150,mrp:1e3})}))}))))))})),k=(t(75),Object(s.b)((function(e){return{}}))((function(e){var a=e.match.params.id,t=Object(n.useState)({name:{first:"",last:""},email:"",social:{facebook:"",linkedin:"",twitter:""},about:"",courses:[],avatar:{bucket:"",key:"",url:""}}),c=Object(w.a)(t,2),l=c[0],s=c[1],i=Object(n.useState)(""),o=Object(w.a)(i,2),m=o[0],u=o[1],f=Object(n.useState)(""),E=Object(w.a)(f,2),b=E[0],h=E[1],g=Object(n.useState)(""),O=Object(w.a)(g,2),x=O[0],j=O[1],y=Object(n.useState)(""),k=Object(w.a)(y,2),C=k[0],S=k[1],D=Object(n.useState)(""),I=Object(w.a)(D,2),T=I[0],L=I[1],z=Object(n.useState)(""),A=Object(w.a)(z,2),F=A[0],R=A[1],_=Object(n.useState)(""),U=Object(w.a)(_,2),q=U[0],P=U[1],M=Object(n.useState)("No file chosen"),B=Object(w.a)(M,2),G=B[0],V=B[1];Object(n.useEffect)((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/teacher/".concat(a));case 2:t=e.sent,n=t.data,u(n.name.first),h(n.name.last),j(n.email),S(n.about),L(n.social.facebook),R(n.social.linkedin),P(n.social.twitter),s(n);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]);var H=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r,c,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.getElementById("editTeacher"),r=new FormData(n),e.prev=3,e.next=6,v.a.put("/api/teacher/".concat(a),r);case 6:c=e.sent,window.location.reload(),window.alert(c.data.success.desc),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),l=e.t0.response.data.error,window.alert(l.desc),console.log(l);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(N,null),r.a.createElement("section",{className:"teacher-edit"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"is-flex heading"},r.a.createElement("h1",{className:"has-text-centered is-size-3"},"Edit Teacher"),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{form:"editTeacher",type:"submit",className:"button is-success"},"Save"),r.a.createElement("a",{href:"/teachers/".concat(a,"/view")},r.a.createElement("button",{className:"button is-info"},"View Profile")))),r.a.createElement("form",{id:"editTeacher",onSubmit:H,className:"form",encType:"multipart/form-data"},r.a.createElement("label",null,"Name"),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("input",{type:"text",className:"input first",name:"firstname",placeholder:"First Name",value:m,onChange:function(e){e.preventDefault(),u(e.target.value)},required:!0}),r.a.createElement("input",{type:"text",className:"input",name:"lastname",placeholder:"Last Name",value:b,onChange:function(e){e.preventDefault(),h(e.target.value)}})),r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",className:"input item",name:"email",placeholder:"Email Id",value:x,onChange:function(e){e.preventDefault(),j(e.target.value)},required:!0}),r.a.createElement("label",null,"About Teacher"),r.a.createElement("textarea",{className:"textarea item",name:"about",placeholder:"About Teacher. e.g. I am a professional poker player for 6years...",value:C,onChange:function(e){e.preventDefault(),S(e.target.value)}}),r.a.createElement("label",null,"Facebook Profile"),r.a.createElement("input",{type:"url",className:"input item",name:"facebook",placeholder:"Facebook",value:T,onChange:function(e){e.preventDefault(),L(e.target.value)}}),r.a.createElement("label",null,"Linkedin Profile"),r.a.createElement("input",{type:"url",className:"input item",name:"linkedin",placeholder:"Linkedin",value:F,onChange:function(e){e.preventDefault(),R(e.target.value)}}),r.a.createElement("label",null,"Twitter Profile"),r.a.createElement("input",{type:"url",className:"input item",name:"twitter",placeholder:"Twitter",value:q,onChange:function(e){e.preventDefault(),P(e.target.value)}}),r.a.createElement("div",{className:"file has-name is-fullwidth"},r.a.createElement("figure",{className:"image is-128x128"},r.a.createElement("img",{className:"is-rounded display-pic",src:l.avatar.url,alt:"dp"})),r.a.createElement("label",{className:"file-label"},r.a.createElement("input",{className:"file-input",type:"file",name:"avatar",onChange:function(e){V(e.target.files[0].name)}}),r.a.createElement("span",{className:"file-cta"},r.a.createElement("span",{className:"file-label"},"Upload New Image")),r.a.createElement("span",{className:"file-name"},G)))))))}))),C=(t(76),Object(s.b)((function(e){return{}}))((function(e){var a=Object(n.useState)([]),t=Object(w.a)(a,2),c=t[0],l=t[1],s=Object(n.useState)([]),i=Object(w.a)(s,2),o=i[0],m=i[1],u=Object(n.useState)([]),f=Object(w.a)(u,2),E=f[0],b=f[1],h=Object(n.useState)(""),g=Object(w.a)(h,2),O=g[0],x=g[1],j=Object(n.useState)(""),y=Object(w.a)(j,2),k=y[0],C=y[1],S=Object(n.useState)(!1),D=Object(w.a)(S,2),I=D[0],T=D[1];Object(n.useEffect)((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("api/course/all");case 3:a=e.sent,t=a.data,l(t),m(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var L=function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),T(!I),"closeModal"===a.target.name){e.next=8;break}return e.next=5,v.a.get("api/teacher/all");case 5:t=e.sent,n=t.data,b(n);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t=document.getElementById("createCourse"),n=new FormData(t),console.log(n),e.prev=4,e.next=7,v.a.post("api/course",n);case 7:r=e.sent,window.location.reload(),window.alert(r.data.success.desc),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),c=e.t0.response.data.error,window.alert(c.desc);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),x(""),C(""),m(c);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(N,null),r.a.createElement("section",{className:"courses"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"is-size-3"},"Courses"),r.a.createElement("div",{className:"actions is-flex"},r.a.createElement("div",{className:"search is-flex"},r.a.createElement("input",{className:"input search-box",type:"text",placeholder:"Search by course title",onChange:function(e){e.preventDefault(),x(e.target.value)},value:O}),r.a.createElement("input",{className:"input search-box",type:"text",placeholder:"Search by teacher",onChange:function(e){e.preventDefault(),C(e.target.value)},value:k}),r.a.createElement("button",{className:"button is-primary",onClick:function(e){e.preventDefault();var a=c.filter((function(e){var a="";a=e.teacher.name.last?e.teacher.name.first+" "+e.teacher.name.last:e.teacher.name.first;var t=e.title;return-1!==a.toLowerCase().indexOf(k.toLowerCase())&&-1!==t.toLowerCase().indexOf(O.toLowerCase())}));m(a)}},"Search"),r.a.createElement("button",{className:"button is-info",onClick:A},"Reset")),r.a.createElement("div",{className:"add is-flex",onClick:L},r.a.createElement("p",{className:"is-size-5"},"Add Course"),r.a.createElement("img",{src:"/images/add.png",alt:"add",className:"icon"}))),r.a.createElement("div",{className:"modal ".concat(I&&"is-active")},r.a.createElement("div",{className:"modal-background"}),r.a.createElement("div",{className:"modal-card"},r.a.createElement("header",{className:"modal-card-head"},r.a.createElement("p",{className:"modal-card-title"},"New Course"),r.a.createElement("button",{className:"delete","aria-label":"close",onClick:L})),r.a.createElement("section",{className:"modal-card-body"},r.a.createElement("form",{id:"createCourse",onSubmit:z,className:"form",encType:"multipart/form-data"},r.a.createElement("input",{type:"text",className:"input item",name:"title",placeholder:"Unique Title",required:!0}),r.a.createElement("input",{type:"text",placeholder:"Teacher Id",name:"teacherid",className:"input item",autoComplete:"off",list:"teachers",required:!0}),r.a.createElement("datalist",{id:"teachers"},E.map((function(e){return r.a.createElement("option",{value:e._id,key:e._id},e.name.last?e.name.first+" "+e.name.last:e.name.first)}))))),r.a.createElement("footer",{className:"modal-card-foot"},r.a.createElement("button",{form:"createCourse",type:"submit",className:"button is-success",name:"submitCourse"},"Add"),r.a.createElement("button",{className:"button",onClick:L,name:"closeModal"},"Cancel")))),r.a.createElement("table",{className:"table is-bordered is-hoverable is-fullwidth"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Teacher"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,o.map((function(e){var a="";return a=e.teacher.name.last?e.teacher.name.first+" "+e.teacher.name.last:e.teacher.name.first,r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.title),r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement("a",{href:"/courses/".concat(e._id,"/edit")},r.a.createElement("button",{className:"button is-small is-info"},"Edit")),r.a.createElement("a",{href:"/courses/".concat(e._id,"/view")},r.a.createElement("button",{className:"button is-small is-primary"},"View"))))})))))))}))),S=(t(77),Object(s.b)((function(e){return{}}))((function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(N,null),r.a.createElement("section",{className:"course-edit"},r.a.createElement("div",{className:"container"},"This is from CourseEdit")))}))),D=(t(78),Object(s.b)((function(e){return{permission:e.logInReducer.user.permission}}))((function(e){var a=Object(n.useState)([]),t=Object(w.a)(a,2),c=t[0],l=t[1],s=Object(n.useState)([]),i=Object(w.a)(s,2),o=i[0],m=i[1],u=Object(n.useState)(""),f=Object(w.a)(u,2),E=f[0],b=f[1],h=Object(n.useState)(""),g=Object(w.a)(h,2),O=g[0],x=g[1],j=Object(n.useState)(!1),y=Object(w.a)(j,2),k=y[0],C=y[1],S=e.permission;Object(n.useEffect)((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("api/user/all");case 2:a=e.sent,t=a.data,l(t),m(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var D=function(e){e.preventDefault(),C(!k)},I=function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t=document.getElementById("createUser"),n=new FormData(t),e.prev=3,e.next=6,v.a.post("api/user",n);case 6:r=e.sent,window.location.reload(),window.alert(r.data.success.desc),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),c=e.t0.response.data.error,window.alert(c.desc);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(a){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),b(""),x(""),m(c);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t=a.target.value,e.prev=2,e.next=5,v.a.delete("/api/user/".concat(t));case 5:n=e.sent,window.location.reload(),window.alert(n.data.success.desc),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),r=e.t0.response.data.error,window.alert(r.desc);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,v.a.put("/api/user/password/reset",{id:a.target.value});case 4:t=e.sent,window.location.reload(),window.alert(t.data.success.desc),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n=e.t0.response.data.error,window.alert(n.desc);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(N,null),r.a.createElement("section",{className:"users"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"is-size-3"},"Users"),r.a.createElement("div",{className:"actions is-flex"},r.a.createElement("div",{className:"search is-flex"},r.a.createElement("input",{className:"input search-box",type:"text",placeholder:"Search by name",onChange:function(e){e.preventDefault(),b(e.target.value)},value:E}),r.a.createElement("input",{className:"input search-box",type:"text",placeholder:"Search by email",onChange:function(e){e.preventDefault(),x(e.target.value)},value:O}),r.a.createElement("button",{className:"button is-primary",onClick:function(e){e.preventDefault();var a=c.filter((function(e){var a="";a=e.name.last?e.name.first+" "+e.name.last:e.name.first;var t=e.email;return-1!==a.toLowerCase().indexOf(E.toLowerCase())&&-1!==t.toLowerCase().indexOf(O.toLowerCase())}));m(a)}},"Search"),r.a.createElement("button",{className:"button is-info",onClick:T},"Reset")),r.a.createElement("div",{className:"add is-flex",onClick:D},r.a.createElement("p",{className:"is-size-5"},"Add User"),r.a.createElement("img",{src:"/images/add.png",alt:"add",className:"icon"}))),r.a.createElement("div",{className:"modal ".concat(k&&"is-active")},r.a.createElement("div",{className:"modal-background"}),r.a.createElement("div",{className:"modal-card"},r.a.createElement("header",{className:"modal-card-head"},r.a.createElement("p",{className:"modal-card-title"},"New User"),r.a.createElement("button",{className:"delete","aria-label":"close",onClick:D})),r.a.createElement("section",{className:"modal-card-body"},r.a.createElement("form",{id:"createUser",onSubmit:I,className:"form",encType:"multipart/form-data"},r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("input",{type:"text",className:"input first",name:"firstname",placeholder:"First Name",required:!0}),r.a.createElement("input",{type:"text",className:"input",name:"lastname",placeholder:"Last Name",required:!0})),r.a.createElement("input",{type:"email",className:"input item",name:"email",placeholder:"Email Id",required:!0}),r.a.createElement("select",{name:"permissionlevel",className:"select item",required:!0},r.a.createElement("option",{value:""},"Permission"),r.a.createElement("option",{value:3},"EDITOR"),S<=2?r.a.createElement("option",{value:2},"MODERATOR"):null,S<=1?r.a.createElement("option",{value:1},"ADMIN"):null,0===S?r.a.createElement("option",{value:0},"SUPERUSER"):null))),r.a.createElement("footer",{className:"modal-card-foot"},r.a.createElement("button",{form:"createUser",type:"submit",className:"button is-success"},"Add"),r.a.createElement("button",{className:"button",onClick:D},"Cancel")))),r.a.createElement("table",{className:"table is-bordered is-hoverable is-fullwidth"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email Id"),r.a.createElement("th",null,"Permission"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,o.map((function(e){var a="";return a=e.name.last?e.name.first+" "+e.name.last:e.name.first,r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,a),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.permission.title),r.a.createElement("td",null,r.a.createElement("button",{className:"button is-small is-danger",value:e._id,onClick:L},"Delete User"),r.a.createElement("button",{className:"button is-small is-info",value:e._id,onClick:z},"Reset Password")))})))))))}))),I=t(38),T=(t(79),Object(s.b)((function(e){return{}}))((function(e){var a=Object(n.useState)(""),t=Object(w.a)(a,2),c=t[0],l=t[1],s=function(){var a=Object(p.a)(d.a.mark((function a(t){var n,r,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),n=t.target.elements.email.value,r=t.target.elements.password.value,a.next=5,h.login(n,r,e.dispatch,f);case 5:"failed"===(c=a.sent)[0]&&l(c[1]);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("section",{className:"hero is-fullheight login"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column is-5-tablet is-4-desktop is-3-widescreen"},r.a.createElement("form",{action:"",onSubmit:s,className:"box has-text-centered"},r.a.createElement("p",{className:"is-size-4 title"},"Welcome to Carlos!"),r.a.createElement("div",{className:"field has-text-centered"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",className:"input",required:!0}))),r.a.createElement("div",{className:"field has-text-centered"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",className:"input",required:!0}))),r.a.createElement("div",{className:"field has-text-centered"},r.a.createElement("p",{className:"is-size-7"},c)),r.a.createElement("div",{className:"field has-text-centered"},r.a.createElement("button",{type:"submit",className:"button is-success"},"Login"))))))))}))),L=(t(80),function(){return r.a.createElement("section",{className:"loading"},r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),z=function(e){var a=e.component,t=Object(I.a)(e,["component"]),c=Object(n.useState)(null),l=Object(w.a)(c,2),s=l[0],i=l[1];return Object(n.useEffect)((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.isAuthenticated();case 2:a=e.sent,i(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),null===s?r.a.createElement(m.a,{component:L}):r.a.createElement(m.a,Object.assign({},t,{render:function(e){return s?r.a.createElement(a,e):r.a.createElement(T,null)}}))},A=Object(s.b)((function(e){return{isLoggedIn:e.logInReducer.user.isLoggedIn,name:e.logInReducer.user.name,id:e.logInReducer.user.id,permission:e.logInReducer.user.permission}}))((function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(o.a,null,r.a.createElement(m.c,null,r.a.createElement(z,Object.assign({exact:!0,path:"/"},e,{component:g})),r.a.createElement(z,Object.assign({exact:!0,path:"/teachers"},e,{component:O})),r.a.createElement(z,Object.assign({path:"/teachers/:id/view"},e,{component:y})),r.a.createElement(z,Object.assign({path:"/teachers/:id/edit"},e,{component:k})),r.a.createElement(z,Object.assign({exact:!0,path:"/courses"},e,{component:C})),r.a.createElement(z,Object.assign({path:"/courses/:id/edit"},e,{component:S})),r.a.createElement(z,Object.assign({exact:!0,path:"/users"},e,{component:D})))))})),F=t(11),R=t(40),_=t(25),U=t(41),q=t.n(U),P=t(17),M={user:{isLoggedIn:!1,name:"",permission:"",expiry:0}},B=Object(F.c)({logInReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.type,n=a.payload;switch(t){case"LOG_IN":case"LOG_OUT":return Object(P.a)({},e,{user:Object(P.a)({},n)});default:return e}}}),G={key:"root",storage:q.a},V=Object(_.a)(G,B),H=function(){var e=Object(F.d)(V,Object(F.a)(R.a));return{store:e,persistor:Object(_.b)(e)}}(),J=H.store,W=H.persistor,K=document.getElementById("root"),Q=r.a.createElement(s.a,{store:J},r.a.createElement(i.a,{loading:null,persistor:W},r.a.createElement(A,null)));l.a.render(Q,K)}},[[42,1,2]]]);
//# sourceMappingURL=main.507d699c.chunk.js.map